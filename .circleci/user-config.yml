# This is an example of a user CircleCI configuration that is not generated by
# Aspect Workflows. The naming of this file is arbitrary. This configuration is
# merged with the generated Aspect Workflows CircleCI configuration into the
# load bearing load `.circleci/config.yaml` configuration file that is used by
# CircleCI.
#
# To update `.circleci/config.yaml` after editing this file run:
#
#    bazel run //.circleci:write_merged_config
#
#
# Aspect Workflows workflow names are all prefixed with "aspect-workflows-".
# These currently include:
#
# - aspect-workflows
# - aspect-workflows-warming
# - aspect-workflows-manual-deliver
#
# Aspect Workflows job names are all prefixed with "aw-". These currently
# include.
#
# - aw-auto-deliver
# - aw-buildifier
# - aw-configure
# - aw-format
# - aw-gazelle
# - aw-manual-deliver
# - aw-test
# - aw-warming
#
# In your user CircleCI configuration, avoid workflow names prefixed with
# `aspect-workflows-` and job names prefixed with `aw-`. Conflicting workflow or
# job names will result in a bad configuration merge.
version: 2.1

jobs:
  user-job:
    docker:
      - image: cimg/base:2023.03
    steps:
      - checkout
      - run: echo "Example user CircleCI job that is not generated by Aspect Workflows."

workflows:
  user-workflow:
    jobs:
      - user-job
    when:
      and:
        - not: << pipeline.parameters.perform_delivery >>
        - not:
            equal:
              - << pipeline.trigger_source >>
              - scheduled_pipeline
